<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Linh Kiện Điện tử KIENLAB</title>

	<link rel="stylesheet" href="assets/css/bootstrap.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<script src="assets/js/jquery-3.7.1.js"></script>
	<script src="assets/js/bootstrap.bundle.js"></script>
	<script src="assets/js/common.js"></script>
	<script src="assets/js/cart.js"></script>

	<script>

		render_card = (p, i, cate) => {
			return `
				<a class="card col-3 text-decoration-none" href="detail.html?cate=${cate}&index=${i}">
					<img src="${p.img}" class="card-img-top img-thumbnail">
					<div class="card-body">
						<h5 class="card-title overflow-hidden" style="height: 100px;">${p.name}</h5>
						<p class="card-text overflow-hidden" style="height: 60px;"><small>${p.desc}</small></p>
					</div>
				</a>
			`;
		};

		render_cards = (plist, cate) => {
			render = '';
			plist.forEach((e, i) => {
				render += render_card(e, i, cate);
			});
			return render;
		};

		$(() => {
			$("#header").load("./views/common/header.html");
			$("#footer").load("./views/common/footer.html");
			$("#sidebar").load("./views/common/sidebar.html");
			
			cate = getUrlParams('cate');
			if (cate == undefined) {
				$("#default-lists").removeClass('d-none');

				cate = 'ic-vi-dieu-khien';
				plist = getProductList(cate);
				$('#product-list1').html(render_cards(plist, cate));
				
				cate = 'mach-cam-bien';
				plist = getProductList(cate);
				$('#product-list2').html(render_cards(plist, cate));

				cate = 'lcd-mau';
				plist = getProductList(cate);
				$('#product-list3').html(render_cards(plist, cate));

				cate = 'canh-tay-robot-robot-tu-hanh';
				plist = getProductList(cate);
				$('#product-list4').html(render_cards(plist, cate));

				return;
			}
			plist = getProductList(cate);
			$('#product-list').html(render_cards(plist, cate));
		});
	</script>
</head>

<body>

	<div id="header"></div>

	<div class="container p-0 mt-2 d-flex">
		<div class="col-3 bg-light" id="sidebar"></div>
		<div class="col-9 ps-2">
			<div class="d-flex flex-wrap" id="product-list">
				
			</div>
			<div class="d-none" id="default-lists">
				<h3 class="mt-5">Vi điều khiển</h3>
				<div class="d-flex flex-wrap" id="product-list1"></div>

				<h3 class="mt-5">Mạch cảm biến</h3>
				<div class="d-flex flex-wrap" id="product-list2"></div>

				<h3 class="mt-5">Màn hình LCD</h3>
				<div class="d-flex flex-wrap" id="product-list3"></div>

				<h3 class="mt-5">Robot</h3>
				<div class="d-flex flex-wrap" id="product-list4"></div>
			</div>
		</div>
	</div>




	<div class="text-bg-dark mt-5" id="footer"></div>
</body>

</html>